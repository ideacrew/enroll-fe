<h1>Add New Person to household</h1>
<form [formGroup]="basicInfoFormGroup" class="page-form">
  <enroll-name-form [parent]="basicInfoFormGroup"></enroll-name-form>
  <enroll-dob-input [parent]="basicInfoFormGroup"></enroll-dob-input>
  <enroll-ssn-input [parent]="basicInfoFormGroup"></enroll-ssn-input>
  <enroll-gender-input [parent]="basicInfoFormGroup"></enroll-gender-input>
  <enroll-relationship-select
    [parent]="basicInfoFormGroup"
  ></enroll-relationship-select>
  <pre>
  {{ basicInfoFormGroup.value | json }}
  VALID?: {{ basicInfoFormGroup.valid }}
</pre
  >
</form>

<fieldset class="enroll-fieldset">
  <!-- Question and Help Text -->
  <legend class="enroll-fieldset__legend enroll-fieldset__legend--l">
    <h2 class="enroll-fieldset__heading">
      Does
      {{
        newHouseholdMember.firstNameHasValue
          ? newHouseholdMember.firstName
          : 'this person'
      }}
      live with Ted Crisp?
    </h2>
  </legend>

  <!-- Radio Group -->
  <div class="enroll-radios">
    <!-- Radio option with input, label, and help text -->
    <div class="enroll-radios__item">
      <!-- Radio input -->
      <input
        class="enroll-radios__input"
        id="lives-with-primary-yes"
        name="lives-with-primary"
        type="radio"
        value="yes"
        [(ngModel)]="newHouseholdMember.livesWithPrimary"
      />

      <!-- Radio label -->
      <label
        data-cy="lives-with-primary-yes"
        class="enroll-label enroll-radios__label"
        for="lives-with-primary-yes"
      >
        Yes
      </label>
    </div>

    <!-- Radio option with input, label, and help text -->
    <div class="enroll-radios__item">
      <!-- Radio input -->
      <input
        class="enroll-radios__input"
        id="lives-with-primary-no"
        name="lives-with-primary"
        type="radio"
        value="no"
        [(ngModel)]="newHouseholdMember.livesWithPrimary"
      />
      <!-- Radio label -->
      <label
        data-cy="lives-with-primary-no"
        class="enroll-label enroll-radios__label"
        for="lives-with-primary-no"
      >
        No
      </label>
      <!-- Help text -->
    </div>
  </div>
</fieldset>

<fieldset *ngIf="newHouseholdMember.livesWithPrimary === 'no'">
  <legend>
    <h2>
      Where does
      {{
        newHouseholdMember.firstNameHasValue
          ? newHouseholdMember.firstName
          : 'this person'
      }}
      live?
    </h2>
  </legend>
  <div class="enroll-fieldset-group">
    <div class="enroll-input-group">
      <label class="enroll-label" for="address-1"> Address Line 1 * </label>
      <input
        class="enroll-input"
        id="address-1"
        name="address-1"
        type="text"
        [(ngModel)]="newHouseholdMember.firstName"
      />
    </div>
    <div class="enroll-input-group">
      <label class="enroll-label" for="address-2">Address Line 2 </label>
      <input class="enroll-input" id="address-2" name="address-2" type="text" />
    </div>
  </div>
  <div class="enroll-fieldset-group">
    <div class="enroll-input-group">
      <label class="enroll-label" for="address-city">City * </label>
      <input
        class="enroll-input"
        id="address-city"
        name="address-city"
        type="text"
      />
    </div>
    <div class="enroll-input-group">
      <label class="enroll-label" for="address-state">State * </label>
      <input
        class="enroll-input"
        id="address-state"
        name="address-state"
        type="text"
      />
    </div>
    <div class="enroll-input-group">
      <label class="enroll-label" for="address-zip"> Zip Code </label>
      <input
        class="enroll-input"
        id="address-zip"
        name="address-zip"
        type="text"
      />
    </div>
  </div>
  <fieldset
    class="enroll-fieldset"
    aria-describedby="address-circumstance-hint"
  >
    <legend class="enroll-fieldset__legend enroll-fieldset__legend--l">
      <h3 class="enroll-fieldset__heading">
        Do any of these apply to
        {{
          newHouseholdMember.firstNameHasValue
            ? newHouseholdMember.firstName
            : 'this person'
        }}?
      </h3>
    </legend>
    <div id="address-circumstance-hint" class="enroll-hint">
      Select all that apply.
    </div>
    <div class="enroll-checkboxes">
      <div class="enroll-checkboxes__item">
        <input
          class="enroll-checkboxes__input"
          id="live-outside"
          name="address-circumstance"
          type="checkbox"
          value="live-outside-area"
        />
        <label class="enroll-label enroll-checkboxes__label" for="live-outside">
          {{
            newHouseholdMember.firstNameHasValue
              ? newHouseholdMember.firstName
              : 'This person'
          }}
          lives outside of DC and plans to return, or is moving to DC but
          doesn't have a DC address yet.
        </label>
      </div>
      <div class="enroll-checkboxes__item">
        <input
          class="enroll-checkboxes__input"
          id="waste-2"
          name="address-circumstance"
          type="checkbox"
          value="homeless"
        />
        <label class="enroll-label enroll-checkboxes__label" for="waste-2">
          {{
            newHouseholdMember.firstNameHasValue
              ? newHouseholdMember.firstName
              : 'This person'
          }}
          is a homeless DC resident.
        </label>
      </div>
    </div>
  </fieldset>
</fieldset>

<fieldset class="enroll-fieldset">
  <!-- Question and Help Text -->
  <legend class="enroll-fieldset__legend enroll-fieldset__legend--l">
    <h2 class="enroll-fieldset__heading">
      Does
      {{
        newHouseholdMember.firstNameHasValue
          ? newHouseholdMember.firstName
          : 'this person'
      }}
      need coverage?
    </h2>
  </legend>

  <!-- Radio Group -->
  <div class="enroll-radios">
    <!-- Radio option with input, label, and help text -->
    <div class="enroll-radios__item">
      <!-- Radio input -->
      <input
        class="enroll-radios__input"
        id="needs-coverage-yes"
        name="needs-coverage"
        type="radio"
        value="yes"
        aria-describedby="needs-coverage-yes-hint"
        [(ngModel)]="newHouseholdMember.is_applying_coverage"
      />

      <!-- Radio label -->
      <label
        data-cy="needs-coverage-yes"
        class="enroll-label enroll-radios__label"
        for="needs-coverage-yes"
      >
        Yes
      </label>

      <!-- Help Text -->
      <div id="needs-coverage-yes-hint" class="enroll-hint enroll-radios__hint">
        Answer yes if
        {{
          newHouseholdMember.firstNameHasValue
            ? newHouseholdMember.firstName
            : 'this person'
        }}
        needs coverage. Additional information about
        {{
          newHouseholdMember.firstNameHasValue
            ? newHouseholdMember.firstName
            : 'this person'
        }}
        will be required.
      </div>
    </div>

    <!-- Radio option with input, label, and help text -->
    <div class="enroll-radios__item">
      <!-- Radio input -->
      <input
        class="enroll-radios__input"
        id="needs-coverage-no"
        name="needs-coverage"
        type="radio"
        value="no"
        aria-describedby="needs-coverage-no-hint"
        [(ngModel)]="newHouseholdMember.is_applying_coverage"
      />
      <!-- Radio label -->
      <label
        data-cy="needs-coverage-no"
        class="enroll-label enroll-radios__label"
        for="needs-coverage-no"
      >
        No
      </label>
      <!-- Help text -->
      <div id="needs-coverage-no-hint" class="enroll-hint enroll-radios__hint">
        Answer no if
        {{
          newHouseholdMember.firstNameHasValue
            ? newHouseholdMember.firstName
            : 'this person'
        }}
        does not need coverage. This could be because they don't qualify or
        because they simple don't need coverage. No additional information is
        needed.
      </div>
    </div>
  </div>
  <a
    *ngIf="newHouseholdMember.is_applying_coverage === 'yes'"
    routerLink="../citizenship"
    class="enroll-button"
    data-cy="provide-additional-information"
    >Provide additional information about
    {{
      newHouseholdMember.firstNameHasValue
        ? newHouseholdMember.firstName
        : 'this person'
    }}</a
  >
  <a
    *ngIf="newHouseholdMember.is_applying_coverage === 'no'"
    routerLink="../../edit"
    class="enroll-button"
    data-cy="add-member-to-household"
    >Add
    {{
      newHouseholdMember.firstNameHasValue
        ? newHouseholdMember.firstName
        : 'this person'
    }}
    to your household</a
  >
</fieldset>
